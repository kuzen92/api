Выгрузите атрибуты и характеристики Ozon


Чтобы методы для работы с товарами работали корректно, сопоставьте ваши категории и характеристики со значениями в системе Ozon.
Если в методе /v3/product/import вы передадите значения не из справочника Ozon, товар не будет создан или обновлён.

/v1/description-category/tree — получите список категорий и типов в виде дерева и используйте значение последнего уровня выбранной категории.

/v1/description-category/attribute — получите характеристики для выбранных категории и типа.

/v1/description-category/attribute/values — получите список значений для выбранной характеристики.

Загрузите и обновите товары
После сравнения своих атрибутов и характеристик с атрибутной моделью Ozon можете приступить к загрузке товаров:

/v3/product/import — загрузите товары и услуги. Этот метод также позволяет обновить уже загруженные товары. В запросе устанавливается первичная цена и загружаются изображения товара.

В одном запросе можно передать до 100 товаров. Изображения загружаются прямой ссылкой на облачное хранилище, где они хранятся.

В результате работы метода вы получите task_id — номер задания на загрузку товаров.

/v1/product/import/info — проверьте task_id, который вы получили при загрузке товаров. Метод вернёт информацию, успешно ли загрузились товары или при импорте была ошибка.

Если ответ содержит статус, что товар на модерации, подождите её результатов и проверьте статус товара повторно. Обычно модерация занимает меньше одного дня.

/v1/product/upload_digital_codes — загрузите коды активации, если вы продаёте цифровые товары или услуги. Код активации привязывается к карточке цифрового товара. После продажи цифрового товара вы сможете посмотреть привязку кода к отправлению в ответе метода /v2/posting/fbo/get. В результате работы метода вы получите task_id — номер задания на загрузку кода активации.

/v1/product/upload_digital_codes/info — проверьте task_id, который вы получили при загрузке кодов активации. Метод вернёт информацию, успешно ли загрузились коды или возникла ошибка.

/v3/product/list — получите список созданных товаров после загрузки товаров.

Метод позволяет использовать фильтры, чтобы разбить товары на группы по статусу видимости или отслеживать изменение их статуса с помощью идентификатора товара.

Метод возвращает пару значений offer_id и product_id — они нужны практически во всех запросах для идентификации товара, с которым будет производиться действие. Если вы загружали товары через шаблон, используйте этот метод для получения offer_id и product_id, чтобы в дальнейшем работать по API с товарами.

Загрузите и обновите изображения товара
Чтобы добавить изображения товара или заменить существующие, используйте:

/v1/product/pictures/import — загрузите или обновите изображения товара. Передайте прямые ссылки на изображения, загруженные в облачное хранилище.
/v2/product/pictures/info — проверьте статус загрузки.
Обновите товар
Чтобы обновить информацию о товаре и его характеристики, используйте /v3/product/import.

Если нужно обновить только характеристики товара, используйте /v1/product/attributes/update.

Получите информацию о товаре
/v3/product/info/list — получите информацию о товаре, например штрихкод, цену главного предложения, идентификатор категории, комиссию или ошибки модерации. С помощью фильтров /v3/product/list получите список пакетно по всем товарам сразу или по категориям.

/v4/product/info/attributes — получите описание характеристик товара. Метод позволяет добавить дополнительную информацию к товару, чтобы карточка товара была более полной.

/v1/product/info/description — получите описание товара, чтобы использовать его для создания схожего товара.

/v1/product/info/discounted — получите информацию об уценке и основном товаре по SKU уценённого товара.

Удалите или архивируйте товар
/v2/products/delete — удалите товар, если он загрузился с ошибкой и попал в архив без SKU. Товары, которые успешно прошли модерацию и получили SKU, удалить из архива нельзя.

/v1/product/archive — перенесите товар в архив. Перед архивированием товара обнулите его остатки.

/v1/product/unarchive — верните товар из архива.

Товар попадёт в продажу, только когда вы установите его остаток.

Управляйте услугами
Загрузить коды активации для услуг и цифровых товаров можно через метод /v1/product/upload_digital_codes.

Загрузите сертификаты качества
Информация о сертификатах
Получите список типов сертификатов: /v1/product/certificate/types.
Получите список сертифицируемых категорий: /v2/product/certification/list.
Получите список статусов сертификата: /v1/product/certificate/status/list.
Получите список типов соответствия требованиям: /v2/product/certificate/accordance-types/list.
Получите список причин отклонения сертификата: v1/product/certificate/rejection_reasons/list.
Получите список сертификатов: v1/product/certificate/list, используя фильтры:
тип сертификата type — значение value из ответа /v1/product/certificate/types;
статус сертификата status — значение code из ответа v1/product/certificate/status/list.
Работа с товарами сертификата
Чтобы привязать сертификат к товару:

Получите список брендов, для которых требуется предоставить сертификат: /v1/brand/company-certification/list. В ответе вернутся бренды, товары которых есть в вашем личном кабинете. Список брендов может изменяться, если Ozon получит требование от бренда предоставлять сертификат.
Добавьте сертификаты для товаров: /v1/product/certificate/create.
Привяжите сертификат к товару: /v1/product/certificate/bind.
Чтобы посмотреть список товаров, привязанных к сертификату, воспользуйтесь методом v1/product/certificate/products/list. Если нужно получить список товаров с определённым статусом, в параметре status передайте значение code из ответа v1/product/certificate/product_status/list.

Чтобы отвязать товар от сертификата, используйте /v1/product/certificate/products/unbind.

Управление состоянием сертификата
Чтобы получить атрибуты для управления сертификатом:

Получите список типов сертификатов: /v1/product/certificate/types.
Получите список типов соответствия требованиям: /v2/product/certificate/accordance-types/list.
Для создания сертификата используйте /v1/product/certificate/create, передав в запросе:

тип сертификата type_code — значение value из ответа /v1/product/certificate/types;
тип соответствия требованиям accordance_type_code — значение code из ответа /v2/product/certificate/accordance-types/list.
Чтобы удалить сертификат, используйте /v1/product/certificate/delete.

Обновите цены и остатки товаров
После загрузки товаров для схем FBS и rFBS можно перейти к обновлению остатков. Для схемы FBO остатки обновляются автоматически по факту продажи.

Для обновления остатков используйте методы:

/v1/product/import/stocks — если у вас заведён один склад.
/v2/products/stocks — если складов несколько. В этом методе дополнительно указывается идентификатор склада, на котором необходимо изменить остатки.
Для получения информации о количестве остатков для FBO используйте /v3/product/info/stocks.

Для получения информации о количестве остатков для FBS и rFBS используйте v1/product/info/stocks-by-warehouse/fbs.

Чтобы обновить цены по товарам и не менять карточку товара, используйте /v1/product/import/prices.

Метод позволяет обновить цену:

до скидок,
для клиентов с подпиской Ozon Premium,
на карточке товара с учётом скидок,
минимальную цену товара после применения акций.
Цена товара может упасть ниже минимальной, если вы примените разные типы акций к одному товару.
Для получения информации о ценах, комиссиях и скидках на товары используйте /v5/product/info/prices.

Резерв товаров
Если товары заказывают юридические лица, оплата может поступать не сразу — система зарезервирует товары. Чтобы проверить остатки, используйте методы /v3/posting/fbs/get, /v3/posting/fbs/list или /v3/posting/fbs/unfulfilled/list. Если в ответе is_legal = true, значит среди остатков есть зарезервированные товары. Вы можете обновить остатки так, чтобы новое количество товаров было больше свободного остатка и зарезервированного товара в сумме. Система спишет старый остаток и рассчитает новый.

Чтобы проверить резервирование товара, используйте метод /v3/product/info/stocks.

Подробнее об изменении остатков